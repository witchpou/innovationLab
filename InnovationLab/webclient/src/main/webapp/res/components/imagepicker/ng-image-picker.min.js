//https://www.npmjs.com/package/ng-image-picker
/**
 * @name ng-image-picker
 * @version 0.0.1
 * @license MIT
 * @author Diego Herrera
 * @description This piece of code is an image files selector for AngularJS.
 */

!function(e){"use strict";e&&e.angular?angular.module("dahr.ng-image-picker",[]).directive("imagePicker",["$document",function(e){return{restrict:"AE",replace:!0,scope:{imageSelected:"&",imageDeselected:"&"},template:['<div class="ng-image-picker">',"<div>",'<img ng-src="{{ imageSrc }}" ng-show="imageSrc" width="240" height="240">',"</div>",'<input type="file" class="ng-hide" accept="image/*">',"</div>"].join(""),link:function(i,t){function n(e){setTimeout(function(){i.$apply(e)},1)}if(i.imageSrc=null,!e[0].getElementById("ng-image-picker-style")){var a=[".ng-image-picker > div {","height: 240px;","width: 96%;","z-index: 4", "position: absolute;","overflow: hidden;","opacity: 0.95;","border: 1px solid #33c3f0;",".ng-image-picker > div:hover {","cursor: pointer;","}",".ng-image-picker > div > img {","border: none;","}"].join(""),r=e[0].createElement("style");r.type="text/css",r.id="ng-image-picker-style",r.stylesheet?r.styleSheet.cssText=a:r.appendChild(e[0].createTextNode(a));var c=e[0].getElementsByTagName("head")[0];c.appendChild(r)}var g=t[0].children[1];t[0].children[0].addEventListener("click",function(){g.click()}),g.addEventListener("change",function(e){if(e.target.files.length>0){var t=e.target.files[0],a=new FileReader;a.onload=function(){n(function(){i.imageSrc=a.result,i.imageSelected({imageFile:t})})},a.readAsDataURL(t)}else n(function(){i.imageSrc=null,i.imageDeselected()})})}}}]):e.console.error("ng-image-picker: AngularJS must be loaded first. More info at https://angularjs.org/.")}(window);
